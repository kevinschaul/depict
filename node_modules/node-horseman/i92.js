var Promise = require('bluebird');
var base64 = require('node-base64-image');

var Horseman = require('./');
var horseman = new Horseman();

horseman
  .viewport(3200, 1800)
  .zoom(2)
  .open('https://www.google.com')
  .cropBase64('#hplogo', 'PNG')
  .then(function(b64) {
    return Promise.fromCallback(function(done) {
      return base64.base64decoder(b64, {filename: 'b64.png'}, done);
	})
  })
  .close();
